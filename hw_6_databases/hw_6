

    Create additional table phones with fields:
        id, phone_name, company_id, user_id
        mysql> CREATE TABLE phones (id INT NOT NULL AUTO_INCREMENT, phone_name VARCHAR(255), company_id INT DEFAULT NULL, user_id INT DEFAULT NULL, PRIMARY KEY(id));
Query OK, 0 rows affected (0,05 sec)
      

    Create additional table phone_companies with fields:
        id, name
          mysql> CREATE TABLE phone_companies (id INT NOT NULL AUTO_INCREMENT, name VARCHAR(255), PRIMARY KEY(id));
Query OK, 0 rows affected (0,04 sec)


     Write select and save it to file to get users is developers.
     mysql> SELECT first_name, last_name FROM users WHERE is_developer=1 INTO OUTFILE'/var/lib/mysql-files/user.txt';
Query OK, 3 rows affected (0,01 sec)


     Insert xiaomi, apple, samsung to companies.
     mysql> INSERT INTO phone_companies (name) VALUES ("xiaomi"), ("apple"), ("samsung");
Query OK, 3 rows affected (0,08 sec)
Records: 3  Duplicates: 0  Warnings: 0


     Insert 3 phone (with any data) to phones.
     mysql> INSERT INTO phones (phone_name, company_id, user_id) VALUES ("Xiaomi Mi 11 Lite", 123456, 9876), ("Apple iPhone Xr", 369852, 7532), ("Samsung Galaxy A32", 147963, 9514);
Query OK, 3 rows affected (0,12 sec)


     Write select and save it to file to get phones where company_id=XIAOMI COMPANY ID.
     mysql> SELECT * FROM phones INNER JOIN phone_companies ON phones.company_id = phone_companies.id WHERE phone_companies.name = "xiaomi" INTO OUTFILE'/var/lib/mysql-files/phone.txt';
Query OK, 0 rows affected (0,10 sec)


* Select all users which have phones.
mysql> SELECT * FROM users INNER JOIN phones ON users.id = phones.user_id INTO OUTFILE'/var/lib/mysql-files/user_phone.txt';
Query OK, 0 rows affected (0,11 sec)
